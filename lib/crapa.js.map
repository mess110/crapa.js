{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 623e8e3a6941bf84e7bd","webpack:///./src/browser.js","webpack:///./src/jnorthpole.js","webpack:///./src/index.js"],"names":["browser","nVer","navigator","appVersion","nAgt","userAgent","browserName","appName","fullVersion","parseFloat","majorVersion","parseInt","OSName","uaa","replace","split","map","e","userAgentArray","concat","apply","nameOffset","verOffset","ix","indexOf","substring","lastIndexOf","toLowerCase","toUpperCase","isNaN","os","BASE_URL","help","jNorthPole","jsonObj","method","endPoint","responseHandler","errorHandler","r","Error","XMLHttpRequest","open","onreadystatechange","readyState","status","JSON","parse","responseText","send","stringify","apiKey","secret","success","failure","genericRequest","socket","socketUrl","WebSocket","onmessage","onclose","channelName","type","json","content","baseUrl","attached","API_KEY","SECRET","setBaseUrl","url","input","createStorage","data","console","log","attach","warn","window","addEventListener","hash","filename","message","stack","error","timeStamp","lineno","colno","init","register","createUser"],"mappings":"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","file":"crapa.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"crapa\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"crapa\"] = factory();\n\telse\n\t\troot[\"crapa\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 623e8e3a6941bf84e7bd","export default function browser() {\n  var nVer = navigator.appVersion;\n  var nAgt = navigator.userAgent;\n  var browserName = navigator.appName;\n  var fullVersion = '' + parseFloat(navigator.appVersion);\n  var majorVersion = parseInt(navigator.appVersion, 10);\n  var OSName = 'Unknown OS';\n  var uaa = navigator.userAgent.replace(/[\\(\\)\\,]/g, '').split(' ').map(function (e) {\n    return e.split('/');\n  });\n  var userAgentArray = [].concat.apply([], uaa);\n  var nameOffset, verOffset, ix;\n\n  // In Opera, the true version is after \"Opera\" or after \"Version\"\n  if ((verOffset = nAgt.indexOf('Opera')) !== -1) {\n    browserName = 'Opera';\n    fullVersion = nAgt.substring(verOffset + 6);\n    if ((verOffset = nAgt.indexOf('Version')) !== -1) {\n      fullVersion = nAgt.substring(verOffset + 8);\n    }\n  } else if ((verOffset = nAgt.indexOf('MSIE')) !== -1) {\n    // In MSIE, the true version is after \"MSIE\" in userAgent\n    browserName = 'Microsoft Internet Explorer';\n    fullVersion = nAgt.substring(verOffset + 5);\n  } else if ((verOffset = nAgt.indexOf('Chrome')) !== -1) {\n    // In Chrome, the true version is after \"Chrome\"\n    browserName = 'Chrome';\n    fullVersion = nAgt.substring(verOffset + 7);\n  } else if ((verOffset = nAgt.indexOf('Safari')) !== -1) {\n    // In Safari, the true version is after \"Safari\" or after \"Version\"\n    browserName = 'Safari';\n    fullVersion = nAgt.substring(verOffset + 7);\n\n    if ((verOffset = nAgt.indexOf('Version')) !== -1) {\n      fullVersion = nAgt.substring(verOffset + 8);\n    }\n  } else if ((verOffset = nAgt.indexOf('Firefox')) !== -1) {\n    // In Firefox, the true version is after \"Firefox\"\n    browserName = 'Firefox';\n    fullVersion = nAgt.substring(verOffset + 8);\n  } else if ((nameOffset = nAgt.lastIndexOf(' ') + 1) < (verOffset = nAgt.lastIndexOf('/'))) {\n    // In most other browsers, \"name/version\" is at the end of userAgent\n    browserName = nAgt.substring(nameOffset, verOffset);\n    fullVersion = nAgt.substring(verOffset + 1);\n    if (browserName.toLowerCase() === browserName.toUpperCase()) {\n      browserName = navigator.appName;\n    }\n  }\n  // trim the fullVersion string at semicolon/space if present\n  if ((ix = fullVersion.indexOf(';')) !== -1) {\n    fullVersion = fullVersion.substring(0, ix);\n  }\n  if ((ix = fullVersion.indexOf(' ')) !== -1) {\n    fullVersion = fullVersion.substring(0, ix);\n  }\n\n  majorVersion = parseInt('' + fullVersion, 10);\n  if (isNaN(majorVersion)) {\n    fullVersion = '' + parseFloat(navigator.appVersion);\n    majorVersion = parseInt(navigator.appVersion, 10);\n  }\n\n  if (nVer.indexOf('Win') !== -1) OSName = 'Windows';\n  if (nVer.indexOf('Mac') !== -1) OSName = 'MacOS';\n  if (nVer.indexOf('X11') !== -1) OSName = 'UNIX';\n  if (nVer.indexOf('Linux') !== -1) OSName = 'Linux';\n\n  return {\n    browserName: browserName,\n    fullVersion: fullVersion,\n    majorVersion: majorVersion,\n    appName: navigator.appName,\n    userAgent: navigator.userAgent,\n    userAgentArray: userAgentArray,\n    os: OSName\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/browser.js","// TODO: this needs to be moved to its own library\n\nvar BASE_URL = 'https://json.northpole.ro/';\nconst help = `\nNorthPole JS wrapper example usage:\n\nresponseHandler = function (data) {\n  console.log(data);\n};\n\njNorthPole.getStorage(json, responseHandler);\n\nsocket = jNorthPole.getNewRealtimeSocket(responseHandler)\njNorthPole.subscribe(socket, 'foo')\njNorthPole.publish(socket, 'foo', { message: 'hello' })\n`;\n\nexport default class jNorthPole {\n  static get BASE_URL() {\n    return BASE_URL;\n  }\n\n  static set BASE_URL(baseUrl) {\n    BASE_URL = baseUrl;\n  }\n\n  static get help() {\n    return help;\n  }\n\n  static genericRequest(jsonObj, method, endPoint, responseHandler, errorHandler) {\n    var r;\n\n    if (errorHandler == null) {\n      errorHandler = responseHandler;\n    }\n    if (responseHandler == null) {\n      throw new Error('responseHandler function missing');\n    }\n    r = new XMLHttpRequest();\n    r.open(method, this.BASE_URL + endPoint + '.json', true);\n    r.onreadystatechange = function () {\n      if (r.readyState !== 4) {\n        return;\n      }\n      if (r.status === 200) {\n        responseHandler(JSON.parse(r.responseText), r.status);\n      } else {\n        errorHandler(JSON.parse(r.responseText), r.status);\n      }\n    };\n    r.send(JSON.stringify(jsonObj));\n  }\n\n  static createUser(apiKey, secret, success, failure) {\n    var jsonObj;\n\n    jsonObj = {\n      'api_key': apiKey,\n      'secret': secret\n    };\n    this.genericRequest(jsonObj, 'POST', 'user', success, failure);\n  }\n\n  static getUser(jsonObj, responseHandler, errorHandler) {\n    this.genericRequest(jsonObj, 'SEARCH', 'user', responseHandler, errorHandler);\n  }\n\n  static createStorage(jsonObj, responseHandler, errorHandler) {\n    this.genericRequest(jsonObj, 'POST', 'storage', responseHandler, errorHandler);\n  }\n\n  static getStorage(jsonObj, responseHandler, errorHandler) {\n    this.genericRequest(jsonObj, 'SEARCH', 'storage', responseHandler, errorHandler);\n  }\n\n  static putStorage(jsonObj, responseHandler, errorHandler) {\n    this.genericRequest(jsonObj, 'PUT', 'storage', responseHandler, errorHandler);\n  }\n\n  static deleteStorage(jsonObj, responseHandler, errorHandler) {\n    this.genericRequest(jsonObj, 'DELETE', 'storage', responseHandler, errorHandler);\n  }\n\n  static getNewRealtimeSocket(responseHandler, errorHandler) {\n    var socket, socketUrl;\n\n    if (errorHandler == null) {\n      errorHandler = responseHandler;\n    }\n    socketUrl = this.BASE_URL.replace('http', 'ws');\n    socket = new WebSocket(socketUrl + 'realtime');\n    socket.onmessage = responseHandler;\n    socket.onclose = errorHandler;\n    return socket;\n  }\n\n  static subscribe(socket, channelName) {\n    return socket.send(JSON.stringify({\n      type: 'subscribe',\n      'channel_name': channelName\n    }));\n  }\n\n  static unsubscribe(socket, channelName) {\n    return socket.send(JSON.stringify({\n      type: 'unsubscribe',\n      'channel_name': channelName\n    }));\n  }\n\n  static publish(socket, channelName, json) {\n    return socket.send(JSON.stringify({\n      type: 'publish',\n      'channel_name': channelName,\n      content: json\n    }));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/jnorthpole.js","import browser from './browser.js';\nimport jNorthPole from './jnorthpole.js';\n\nvar attached = false;\nvar API_KEY = 'guest';\nvar SECRET = 'guest';\n\nfunction setBaseUrl(url) {\n  jNorthPole.BASE_URL = url;\n}\n\nfunction send(input) {\n  input['browser'] = browser();\n  input['api_key'] = API_KEY;\n  input['secret'] = SECRET;\n  input['type'] = 'error';\n\n  jNorthPole.createStorage(input, function (data) {\n    console.log(data);\n  });\n\n  return input;\n};\n\nfunction attach() {\n  if (attached === true) {\n    console.warn('crapa listener already attached');\n    return;\n  }\n  attached = true;\n\n  window.addEventListener('error', function (e) {\n    var hash = {\n      filename: e.filename,\n      message: e.message,\n      stack: e.error.stack,\n      type: e.type,\n      timeStamp: e.timeStamp,\n      lineno: e.lineno,\n      colno: e.colno\n    };\n\n    send({ error: hash });\n    return false;\n  });\n}\n\nfunction init(apiKey, secret) {\n  API_KEY = apiKey;\n  SECRET = secret;\n  attach();\n}\n\nfunction register(apiKey, secret) {\n  try {\n    jNorthPole.createUser(apiKey, secret, function (data) {\n      console.log(data);\n    });\n  } catch (e) {\n    console.error(e);\n  }\n  init(apiKey, secret);\n};\n\nexport { init, register, setBaseUrl };\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}